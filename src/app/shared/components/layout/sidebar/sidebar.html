<aside 
  class="fixed top-0 left-0 h-full shadow-xl transition-all duration-300 z-40 flex flex-col sidebar-gradient"
  [style.width]="isOpen() ? '260px' : '80px'"
  style="border-radius: 20px 0 0 20px;"
>
  <!-- TOP SECTION: Hamburger + Dashboard -->
  <div class="flex items-center gap-3 px-4 py-5 border-b border-purple-400/20">
    @if (isOpen()) {
      <button 
        (click)="onToggle()"
        class="p-2 hover:bg-white/10 rounded-lg transition"
        title="Toggle Sidebar">
        <i class="pi pi-bars text-white text-lg"></i>
      </button>
      <span class="text-xl font-bold text-white">Dashboard11111111</span>
    } @else {
      <button 
        (click)="onToggle()"
        class="p-2 hover:bg-white/10 rounded-lg transition mx-auto"
        title="Toggle Sidebar">
        <i class="pi pi-bars text-white text-lg"></i>
      </button>
    }
  </div>

  <!-- MENU -->
  <nav class="px-3 mt-4 flex-1 overflow-y-auto">
    @for (item of menuItems(); track item.route) {
      <a 
        [routerLink]="item.route" 
        routerLinkActive="bg-white/20 text-white border-l-4 border-white"
        class="flex items-center gap-3 px-3 py-3 rounded-lg text-white/90 hover:bg-white/10 transition-all nav-item mb-1"
        [class.justify-center]="!isOpen()"
        [attr.title]="!isOpen() ? item.label : null"
      >
        <i class="pi text-lg" [class]="'pi ' + item.icon"></i>
        @if (isOpen()) {
          <span class="font-medium text-sm">{{ item.label }}</span>
        }
      </a>
    }
  </nav>

  <!-- TEAMS -->
  @if (isOpen() && teams().length > 0) {
    <div class="px-3 py-4 border-t border-purple-400/20">
      <h3 class="text-white/70 text-xs uppercase font-semibold mb-3 px-3">Your Teams</h3>
      <div class="space-y-2">
        @for (team of teams(); track team.name) {
          <div class="flex items-center gap-3 cursor-pointer hover:bg-white/10 p-2 rounded-lg px-3">
            <div class="w-8 h-8 bg-white/20 text-white text-sm font-bold flex items-center justify-center rounded-full">
              {{ team.initial }}
            </div>
            <span class="font-medium text-sm text-white/90">{{ team.name }}</span>
          </div>
        }
      </div>
    </div>
  }
</aside>
